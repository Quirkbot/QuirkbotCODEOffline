<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Quirkbot lite</title>
		<script>
			var path = require( 'path' );
			var config = require( path.resolve( './', 'config.json') );
			var waitOn = require( 'wait-on' );
			var opts = {
				resources: [
					'http://localhost:' + config.ports.api,
					'http://localhost:' + config.ports.compiler,
					'http://localhost:' + config.ports.code,
					// path.resolve( './', 'db' ),
					// path.resolve( './', 'extension' )
				],
				interval: 1000,
				timeout: 30000,
				window: 1000,
			}
			waitOn( opts, function( err ) {
				if( err ) {
					console.log( err );
				}
				console.log( 'compiler and api running' );
				window.location = "http://localhost:" + config.ports.code;
			})
		</script>
	</head>
	<body>
		Waiting code, api and compiler apps to run...
	</body>
</html>
